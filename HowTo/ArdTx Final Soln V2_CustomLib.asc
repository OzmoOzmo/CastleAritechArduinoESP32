Version 4
SHEET 1 1852 1320
WIRE -800 384 -816 384
WIRE -784 384 -800 384
WIRE -1296 400 -1312 400
WIRE -1280 400 -1296 400
WIRE -1184 400 -1200 400
WIRE -1168 400 -1184 400
WIRE -800 400 -800 384
WIRE -1296 432 -1296 400
WIRE -1184 432 -1184 400
WIRE -1296 528 -1296 512
WIRE -1184 528 -1184 512
WIRE -800 528 -800 480
WIRE -640 528 -800 528
WIRE -528 528 -560 528
WIRE -1008 576 -1040 576
WIRE -960 576 -1008 576
WIRE -864 576 -880 576
WIRE -1296 592 -1312 592
WIRE -1280 592 -1296 592
WIRE -1184 592 -1200 592
WIRE -1168 592 -1184 592
WIRE -1296 624 -1296 592
WIRE -1184 624 -1184 592
WIRE -800 704 -800 624
WIRE -1296 720 -1296 704
WIRE -1184 720 -1184 704
WIRE -1216 800 -1232 800
WIRE -1200 800 -1216 800
WIRE -1216 832 -1216 800
WIRE -432 864 -448 864
WIRE -400 864 -432 864
WIRE -432 880 -432 864
WIRE -480 896 -720 896
WIRE -1296 928 -1296 896
WIRE -1216 928 -1296 928
WIRE -720 944 -720 896
WIRE -672 944 -720 944
WIRE -1296 960 -1296 928
WIRE -1216 976 -1216 928
WIRE -480 976 -480 896
WIRE -432 976 -432 960
WIRE -432 976 -480 976
WIRE -864 992 -896 992
WIRE -432 1008 -432 976
WIRE -1296 1088 -1296 1040
WIRE -1216 1088 -1216 1040
WIRE -1216 1088 -1296 1088
WIRE -1296 1120 -1296 1088
WIRE -720 1120 -720 1040
WIRE -432 1120 -432 1088
FLAG -1296 400 A_12V
FLAG -1296 528 0
FLAG -1184 400 EspTx_Pin15
FLAG -1184 528 0
FLAG -1184 592 D_PnlTx
FLAG -1184 720 0
FLAG -896 992 RKP_Bus_D_Tx
IOPIN -896 992 In
FLAG -672 944 EspRx_Pin13
IOPIN -672 944 Out
FLAG -1296 1120 0
FLAG -720 1120 0
FLAG -1296 896 RKP_Bus_C_RX
IOPIN -1296 896 In
FLAG -1296 592 3.3V
FLAG -1296 720 0
FLAG -1216 832 0
FLAG -1216 800 B_0V
FLAG -432 1120 0
FLAG -432 864 RKP_Bus_A_12V
FLAG -528 528 RKP_Bus_C_RX
IOPIN -528 528 Out
FLAG -800 704 0
FLAG -1008 576 EspTx_Pin15
IOPIN -1008 576 In
FLAG -800 384 RKP_Bus_A_12V
FLAG -704 720 RKP_Bus_0V
FLAG -624 1136 RKP_Bus_0V
FLAG -336 1136 RKP_Bus_0V
SYMBOL res -1312 944 R0
SYMATTR InstName R4
SYMATTR Value 2K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL Misc\\signal -1184 416 R0
WINDOW 3 24 104 Invisible 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 0 8 7 Left 2
SYMATTR Value PULSE(0 3.3 0 .000001 .000001 .0006 .0012 100)
SYMATTR InstName 0-3.3V
SYMBOL cap -1232 976 R0
SYMATTR InstName C1
SYMATTR Value 10nF
SYMBOL voltage -1296 416 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 12V
SYMBOL npn -784 944 R0
SYMATTR InstName Q3
SYMATTR Value BC109C
SYMBOL Misc\\signal -1184 608 R0
WINDOW 3 24 104 Invisible 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 0 8 7 Left 2
SYMATTR Value PULSE(0 12 0 .000001 .000001 0.0006 .0012 10000)
SYMATTR InstName 0-12V
SYMBOL res -768 976 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 22K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL res -448 864 R0
SYMATTR InstName R6
SYMATTR Value 15K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL voltage -1296 608 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 3.3V
SYMBOL res -448 992 R0
SYMATTR InstName R7
SYMATTR Value 4.7K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL res -864 560 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 4.7K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL NPN -864 528 R0
SYMATTR InstName Q1
SYMATTR Value BC109C
SYMBOL res -816 384 R0
SYMATTR InstName R10
SYMATTR Value 4K7
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL res -544 512 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 1.5K
SYMATTR SpiceLine tol=1 pwr=0.1
TEXT -1328 1128 Left 2 !.tran 10m startup
TEXT -1280 904 Left 2 ;Line Resistance
TEXT -88 384 Left 2 ;(c)2015 "Ozmo" - Boards.ie\nFree to use anywhere once above line appears somewhere\n \nAlarm Panel 4 Wire Connector\n========================\nRKP_Bis_A = +12 Volts (Aprox)\nRKP_Bis_B = GND (Connect to Esp32 Gnd)\nRKP_Bis_C_RX = Panel Communcations\nRKP_Bis_D_TX = Panel Communcations\n \n12V supplied from panel to power\n3.3V ESP32 via DC-DC stepdown module.
TEXT -80 840 Left 2 ;ESP32 Pins:\n==========\nPin13= Serial RX\nPin15 = Serial TX\nGND = Common GND of circuit
